<header>
  <div class="header-content">
    <div class="header-content-inner">
      <h1>Savecation</h1>
      <br>
      <p>Savecation is an online app that allows users to vacation on a budget.</p><br>
      <!-- <div class="wrap">
        <div class="search">
          <input type="text" autocomplete="off" id="search_term" list="json-citylist" class="searchTerm" placeholder="Enter your destination...">
          <datalist id="json-citylist"></datalist>
          <button onclick="search()" type="submit" class="searchButton">
            <i class="fa fa-search"></i>
          </button>
        </div>
        <p id="errorm"></p>
      </div> -->





      <script>
      //  var xhr = new XMLHttpRequest();
          var apiAddress = 'http://api.apixu.com/v1/forecast.json?key=c0d375072f834120aa250648170312&days=10&q=';
        var city = 'Vancouver';
          var url = apiAddress + city;
      //    xhr.open("GET", url, false);
        //  xhr.send();
          //formmatedStuff =
      //    loadJSON(url,gotData);
        //  function gotData(data){
        //    weather = data;
      //    }
        //  var json = JSON.parse()

          $(function(){
            $.getJSON(url,function(data){

              var temp = data.current.temp_c + " C";
              var weatherX = data.current.condition.text;
              var weathercode = 'http:'+data.current.condition.icon;

              document.getElementById("mytemp").innerHTML = temp;
              document.getElementById("myweatherX").innerHTML = weatherX;


              var img = document.createElement("img");
              img.src = weathercode;
              var src = document.getElementById("weathericon");
              src.appendChild(img);









              var temp1=data.forecast.forecastday[1].hour[15].temp_c +" C";
              var weather1 = data.forecast.forecastday[1].hour[15].condition.text;
              var weathercode1 = 'http:'+data.forecast.forecastday[1].hour[15].condition.icon;

              document.getElementById("mytemp1").innerHTML = temp1;
              document.getElementById("myweather1").innerHTML = weather1;

              var img = document.createElement("img");
              img.src = weathercode1;
              var src = document.getElementById("weathericon1");
              src.appendChild(img);




               var temp2=data.forecast.forecastday[2].hour[15].temp_c +" C";
               var weather2 = data.forecast.forecastday[2].hour[15].condition.text;
               var weathercode2 = 'http:'+data.forecast.forecastday[2].hour[15].condition.icon;

               document.getElementById("mytemp2").innerHTML = temp2;
               document.getElementById("myweather2").innerHTML = weather2;

               var img = document.createElement("img");
               img.src = weathercode1;
               var src = document.getElementById("weathericon2");
               src.appendChild(img);



                              var temp3=data.forecast.forecastday[3].hour[15].temp_c +" C";
                              var weather3 = data.forecast.forecastday[3].hour[15].condition.text;
                              var weathercode3 = 'http:'+data.forecast.forecastday[3].hour[15].condition.icon;

                              document.getElementById("mytemp3").innerHTML = temp3;
                              document.getElementById("myweather3").innerHTML = weather3;

                              var img = document.createElement("img");
                              img.src = weathercode3;
                              var src = document.getElementById("weathericon3");
                              src.appendChild(img);


                              var temp4=data.forecast.forecastday[4].hour[15].temp_c +" C";
                              var weather4 = data.forecast.forecastday[4].hour[15].condition.text;
                              var weathercode4 = 'http:'+data.forecast.forecastday[4].hour[15].condition.icon;

                              document.getElementById("mytemp4").innerHTML = temp4;
                              document.getElementById("myweather4").innerHTML = weather4;

                              var img = document.createElement("img");
                              img.src = weathercode4;
                              var src = document.getElementById("weathericon4");
                              src.appendChild(img);



                              var temp5=data.forecast.forecastday[5].hour[15].temp_c +" C";
                              var weather5 = data.forecast.forecastday[5].hour[15].condition.text;
                              var weathercode5 = 'http:'+data.forecast.forecastday[5].hour[15].condition.icon;

                              document.getElementById("mytemp5").innerHTML = temp5;
                              document.getElementById("myweather5").innerHTML = weather5;

                              var img = document.createElement("img");
                              img.src = weathercode5;
                              var src = document.getElementById("weathericon5");
                              src.appendChild(img);


                              var temp6=data.forecast.forecastday[6].hour[15].temp_c +" C";
                              var weather6 = data.forecast.forecastday[6].hour[15].condition.text;
                              var weathercode6 = 'http:'+data.forecast.forecastday[6].hour[15].condition.icon;

                              document.getElementById("mytemp6").innerHTML = temp6;
                              document.getElementById("myweather6").innerHTML = weather6;

                              var img = document.createElement("img");
                              img.src = weathercode6;
                              var src = document.getElementById("weathericon6");
                              src.appendChild(img);


                              var temp7=data.forecast.forecastday[7].hour[15].temp_c +" C";
                              var weather7 = data.forecast.forecastday[7].hour[15].condition.text;
                              var weathercode7 = 'http:'+data.forecast.forecastday[7].hour[15].condition.icon;

                              document.getElementById("mytemp7").innerHTML = temp7;
                              document.getElementById("myweather7").innerHTML = weather7;

                              var img = document.createElement("img");
                              img.src = weathercode7;
                              var src = document.getElementById("weathericon7");
                              src.appendChild(img);


                              var temp8=data.forecast.forecastday[8].hour[15].temp_c +" C";
                              var weather8 = data.forecast.forecastday[8].hour[15].condition.text;
                              var weathercode8 = 'http:'+data.forecast.forecastday[8].hour[15].condition.icon;

                              document.getElementById("mytemp8").innerHTML = temp8;
                              document.getElementById("myweather8").innerHTML = weather8;

                              var img = document.createElement("img");
                              img.src = weathercode8;
                              var src = document.getElementById("weathericon8");
                              src.appendChild(img);


                              var temp9=data.forecast.forecastday[9].hour[15].temp_c +" C";
                              var weather9 = data.forecast.forecastday[9].hour[15].condition.text;
                              var weathercode9 = 'http:'+data.forecast.forecastday[9].hour[15].condition.icon;

                              document.getElementById("mytemp9").innerHTML = temp9;
                              document.getElementById("myweather9").innerHTML = weather9;

                              var img = document.createElement("img");
                              img.src = weathercode9;
                              var src = document.getElementById("weathericon9");
                              src.appendChild(img);


                              // to be able to change from numbers to text
                              var month = new Array();
                              month[0]= "January";
                              month[1]= "February";
                              month[2]= "March";
                              month[3]= "April";
                              month[4]= "May";
                              month[5]= "June";
                              month[6]= "July";
                              month[7]= "August";
                              month[8]= "September";
                              month[9]= "October";
                              month[10] = "September";
                              month[11] = "December";

        var d = new Date();

        var d1 = new Date();
        d1.setDate(d.getDate()+1);
        var date1text = month[d1.getMonth()] + " " + d1.getDate();
        document.getElementById("date1").innerHTML = date1text;

        var d2 = new Date();
        d2.setDate(d.getDate()+2);
        var date2text = month[d2.getMonth()] + " " + d2.getDate();
        document.getElementById("date2").innerHTML = date2text;

        var d3 = new Date();
        d3.setDate(d.getDate()+3);
        var date3text = month[d3.getMonth()] + " " + d3.getDate();
        document.getElementById("date3").innerHTML = date3text;

        var d4 = new Date();
        d4.setDate(d.getDate()+4);
        var date4text = month[d4.getMonth()] + " " + d4.getDate();
        document.getElementById("date4").innerHTML = date4text;

        var d5 = new Date();
        d5.setDate(d.getDate()+5);
        var date5text = month[d5.getMonth()] + " " + d5.getDate();
        document.getElementById("date5").innerHTML = date5text;

        var d6 = new Date();
        d6.setDate(d.getDate()+6);
        var date6text = month[d6.getMonth()] + " " + d6.getDate();
        document.getElementById("date6").innerHTML = date6text;

        var d7 = new Date();
        d7.setDate(d.getDate()+7);
        var date7text = month[d7.getMonth()] + " " + d7.getDate();
        document.getElementById("date7").innerHTML = date7text;



        var d8 = new Date();
        d8.setDate(d.getDate()+8);
        var date8text = month[d8.getMonth()] + " " + d8.getDate();
        document.getElementById("date8").innerHTML = date8text;

        var d9 = new Date();
        d9.setDate(d.getDate()+9);
        var date9text = month[d9.getMonth()] + " " + d9.getDate();
        document.getElementById("date9").innerHTML = date9text;



        var month = new Array();
        month[0]= "January";
        month[1]= "February";
        month[2]= "March";
        month[3]= "April";
        month[4]= "May";
        month[5]= "June";
        month[6]= "July";
        month[7]= "August";
        month[8]= "September";
        month[9]= "October";
        month[10] = "September";
        month[11] = "December";

        var monthText = month[d.getMonth()];

         console.log(temp);
         console.log(weatherX);
         })

          })
        //  console.log(weather.main.temp);
        //  console.log(xhr.status);
        //  console.log(xhr.statusText);



      </script>






      <script type="text/javascript">
          var dataList = document.getElementById('json-citylist');
          var input = document.getElementById('ajax');


          /**
           * @return {string}
           */
          function Get() {
              var Httpreq = new XMLHttpRequest(); // a new request
              Httpreq.open("GET", "https://pure-coast-27115.herokuapp.com/data/cities", false);
              Httpreq.send(null);
              return Httpreq.responseText;
          }

          var json_obj = JSON.parse(Get());
          data = json_obj["data"];
          var dict = {};

          for (var i = 0; i < data.length; i++) {
              var option = document.createElement('option');
              option.value = data[i].name;
              dataList.appendChild(option);
              dict[data[i].name.toLowerCase()] = "https://pure-coast-27115.herokuapp.com/city_detail/" + data[i].id;
          }

          function search() {
              var input = document.getElementById("search_term").value.toLowerCase();
              var keys = Object.keys(dict);
              keys.forEach(function (key) {
                  if (key === input) {
                      window.location = dict[key];
                  }
              });
          }

          $("#search_term").on('keydown', function (e) {
              if (e.keyCode === 13) {
                  search();
              }
          });




      </script>

<div id="tableHolder">
      <table id="weatherforecast" width="200%">
        <thead>
        <tr class = "forecastColumn">
          <th class="forecastCell">Current</th>
          <th class="forecastCell"><span id=date1></span></th>
          <th class="forecastCell"><span id=date2></span></th>
          <th class="forecastCell"><span id=date3></span></th>
          <th class="forecastCell"><span id=date4></span></th>
          <th class="forecastCell"><span id=date5></span></th>
          <th class="forecastCell"><span id=date6></span></th>
          <th class="forecastCell"><span id=date7></span></th>
          <th class="forecastCell"><span id=date8></span></th>
          <th class="forecastCell"><span id=date9></span></th>
        </tr>


        <tr class = "forecastColumn">
          <th class="forecastCell"><p><span id="mytemp"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp1"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp2"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp3"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp4"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp5"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp6"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp7"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp8"></span></p></th>
          <th class="forecastCell"><p><span id="mytemp9"></span></p></th>

        </tr>


        <tr class = "forecastColumn">
          <th class="forecastCell"><p><span id="myweatherX"></span></p></th>
          <th class="forecastCell"><p><span id="myweather1"></span></p></th>
          <th class="forecastCell"><p><span id="myweather2"></span></p></th>
          <th class="forecastCell"><p><span id="myweather3"></span></p></th>
          <th class="forecastCell"><p><span id="myweather4"></span></p></th>
          <th class="forecastCell"><p><span id="myweather5"></span></p></th>
          <th class="forecastCell"><p><span id="myweather6"></span></p></th>
          <th class="forecastCell"><p><span id="myweather7"></span></p></th>
          <th class="forecastCell"><p><span id="myweather8"></span></p></th>
          <th class="forecastCell"><p><span id="myweather9"></span></p></th>
        </tr>

        <tr class = "forecastColumn">
          <th><span id="weathericon"></span></th>
          <th><span id="weathericon1"></span></th>
          <th><span id="weathericon2"></span></th>
          <th><span id="weathericon3"></span></th>
          <th><span id="weathericon4"></span></th>
          <th><span id="weathericon5"></span></th>
          <th><span id="weathericon6"></span></th>
          <th><span id="weathericon7"></span></th>
          <th><span id="weathericon8"></span></th>
          <th><span id="weathericon9"></span></th>

        </tr>

        </thead>

      </table>
</div>



    </div>

  </div>
</header>
